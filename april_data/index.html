<!DOCTYPE html>
<meta charset="utf-8">
<style>
td {
  padding: 4px 0;
  font-family: arial;
  font-size: 12px;
  border-bottom:1px solid #dedede;
}
 
table {
  border-collapse:collapse;
} 

.states {
  fill: none;
  stroke: #fff;
  stroke-linejoin: round;
}
#MISS {background-color: green;}

</style>
<body>
  <h1>Where do the guns come from?</h1>
   <img src="image.jpg" alt="Smiley face" width="42" height="42">
   <div>
    <table>
  <thead>
    <tr>
      <th class="Total Result-cell">Total Result</th>
      <th class="49844-cell">49844</th>
    </tr>
  </thead>
  <tbody>
    <tr class="firstRow">
      <td class="Total Result-cell">Illinois</td>
      <td class="49844-cell">22051</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Indiana</td>
      <td class="49844-cell">7747</td>
    </tr>
    <tr id="MISS">
      <td class="Total Result-cell">Mississippi</td>
      <td class="49844-cell">4296</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Wisconsin</td>
      <td class="49844-cell">1647</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Kentucky</td>
      <td class="49844-cell">1226</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Ohio</td>
      <td class="49844-cell">1121</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Tennessee</td>
      <td class="49844-cell">1090</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Alabama</td>
      <td class="49844-cell">1070</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Arkansas</td>
      <td class="49844-cell">944</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Texas</td>
      <td class="49844-cell">937</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Georgia</td>
      <td class="49844-cell">933</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Michigan</td>
      <td class="49844-cell">679</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Florida</td>
      <td class="49844-cell">673</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Louisiana</td>
      <td class="49844-cell">529</td>
    </tr>
    <tr>
      <td class="Total Result-cell">California</td>
      <td class="49844-cell">526</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Minnesota</td>
      <td class="49844-cell">474</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Iowa</td>
      <td class="49844-cell">397</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Arizona</td>
      <td class="49844-cell">355</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Missouri</td>
      <td class="49844-cell">344</td>
    </tr>
    <tr>
      <td class="Total Result-cell">North Carolina</td>
      <td class="49844-cell">295</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Virginia</td>
      <td class="49844-cell">269</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Oklahoma</td>
      <td class="49844-cell">207</td>
    </tr>
    <tr>
      <td class="Total Result-cell">West Virginia</td>
      <td class="49844-cell">202</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Colorado</td>
      <td class="49844-cell">187</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Pennsylvania</td>
      <td class="49844-cell">181</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Kansas</td>
      <td class="49844-cell">177</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Washington</td>
      <td class="49844-cell">156</td>
    </tr>
    <tr>
      <td class="Total Result-cell">South Carolina</td>
      <td class="49844-cell">152</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Massachusetts</td>
      <td class="49844-cell">108</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Nebraska</td>
      <td class="49844-cell">104</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Nevada</td>
      <td class="49844-cell">103</td>
    </tr>
    <tr>
      <td class="Total Result-cell">New York</td>
      <td class="49844-cell">97</td>
    </tr>
    <tr>
      <td class="Total Result-cell">New Mexico</td>
      <td class="49844-cell">75</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Montana</td>
      <td class="49844-cell">53</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Utah</td>
      <td class="49844-cell">53</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Maryland</td>
      <td class="49844-cell">50</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Connecticut</td>
      <td class="49844-cell">46</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Oregon</td>
      <td class="49844-cell">40</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Idaho</td>
      <td class="49844-cell">39</td>
    </tr>
    <tr>
      <td class="Total Result-cell">South Dakota</td>
      <td class="49844-cell">36</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Alaska</td>
      <td class="49844-cell">33</td>
    </tr>
    <tr>
      <td class="Total Result-cell">North Dakota</td>
      <td class="49844-cell">31</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Wyoming</td>
      <td class="49844-cell">29</td>
    </tr>
    <tr>
      <td class="Total Result-cell">New Jersey</td>
      <td class="49844-cell">21</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Maine</td>
      <td class="49844-cell">18</td>
    </tr>
    <tr>
      <td class="Total Result-cell">New Hampshire</td>
      <td class="49844-cell">14</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Delaware</td>
      <td class="49844-cell">10</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Hawaii</td>
      <td class="49844-cell">8</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Rhode Island</td>
      <td class="49844-cell">5</td>
    </tr>
    <tr>
      <td class="Total Result-cell">Vermont</td>
      <td class="49844-cell">4</td>
    </tr>
    <tr class="lastRow">
      <td class="Total Result-cell">District of Columbia</td>
      <td class="49844-cell">2</td>
    </tr>
  </tbody>
</table>
   </div>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://d3js.org/queue.v1.min.js"></script>
<script src="http://d3js.org/topojson.v1.min.js"></script>
<script>

var width = 960,
    height = 500;

var color = d3.scale.threshold()
    .domain([0, 5, 10, 15, 100])
    .range(["#edf8e9", "#c7e9c0", "#a1d99b", "#74c476", "#31a354", "#006d2c"]);

var path = d3.geo.path();

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

queue()
    .defer(d3.json, "us.json")
    .defer(d3.csv, "guns-history3.csv")
    .await(ready);

function ready(error, us, unemployment) {
  var rateById = {};

  unemployment.forEach(function(d) { rateById[d.id] = +d.rate; });

  svg.append("g")
      .attr("class", "counties")
    .selectAll("path")
      .data(topojson.feature(us, us.objects.counties).features)
    .enter().append("path")
      .attr("d", path)
      .style("fill", function(d) { return color(rateById[d.id]); });

  svg.append("path")
      .datum(topojson.mesh(us, us.objects.states, function(a, b) { return a.id !== b.id; }))
      .attr("class", "states")
      .attr("d", path);
}

</script>